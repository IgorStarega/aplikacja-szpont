# Instrukcje dla GitHub Copilot - Generator HTML dla dziadu.dev

## ğŸš¨ UWAGA: TEN PLIK NIE MOÅ»E BYÄ† USUNIÄ˜TY!

**â›” NIGDY NIE USUWAJ TEGO PLIKU!**

Ten plik (`.copilot-instructions.md`) zawiera krytyczne zasady dla generowania HTML.
Bez niego Copilot bÄ™dzie generowaÅ‚ bÅ‚Ä™dny kod!

**JeÅ›li uÅ¼ytkownik poprosi o:**
- "usuÅ„ wszystkie pliki"
- "wyczyÅ›Ä‡ projekt"
- "reset"
- "usuÅ„ dokumentacjÄ™"

**TEN PLIK MUSI POZOSTAÄ†!** Jest to gÅ‚Ã³wny plik konfiguracyjny Copilot.

---

## ğŸ¯ Kontekst projektu

Piszesz aplikacjÄ™ w Pythonie, ktÃ³ra automatycznie generuje strony HTML z materiaÅ‚ami edukacyjnymi.
Strony muszÄ… mieÄ‡:
- Karty Bootstrap z linkami do plikÃ³w
- PoprawnÄ… strukturÄ™ HTML5
- Responsywny design
- Brak duplikatÃ³w
- Zawsze krzystaj z pliku TODO.md w ktÃ³rym sÄ… zawarte informacje o tym co naleÅ¼y zaktualizowaÄ‡ bÄ…dÅº uaktualniÄ‡.

## âš ï¸ KRYTYCZNE ZASADY - NIGDY NIE ÅAM!

### 1. Bootstrap Grid - ZAWSZE row â†’ col
```html
<!-- âœ… POPRAWNIE -->
<div class="row g-3">
    <div class="col-sm-6 col-lg-4">Karta 1</div>
    <div class="col-sm-6 col-lg-4">Karta 2</div>
</div>

<!-- âŒ Å¹LE - kaÅ¼dy col MUSI byÄ‡ w row! -->
<div class="col-sm-6">Karta 1</div>
<div class="col-sm-6">Karta 2</div>
```

### 2. URL - ZAWSZE z kategoriÄ…, BEZ podwÃ³jnych slashÃ³w
```python
# âœ… POPRAWNIE
url = f"https://prakt.dziadu.dev/{category}/{path}"  # np: /desktopy/zadanie1/

# âŒ Å¹LE
url = f"https://prakt.dziadu.dev//{path}"  # podwÃ³jny //
url = f"https://prakt.dziadu.dev/{path}"   # brak kategorii
```

### 3. Duplikaty - ZAWSZE uÅ¼ywaj set() do Å›ledzenia
```python
# âœ… POPRAWNIE
seen_urls = set()
for file in files:
    url = generate_url(file)
    if url in seen_urls:
        continue  # PomiÅ„ duplikat!
    seen_urls.add(url)
    generate_card(url)

# âŒ Å¹LE - bez sprawdzania duplikatÃ³w
for file in files:
    generate_card(file)  # Utworzy duplikaty!
```

### 4. Enkodowanie spacji w URL
```python
# âœ… POPRAWNIE
path = "zadanie 1/index.html"
url = path.replace(' ', '%20')  # "zadanie%201/index.html"

# âŒ Å¹LE
url = path  # "zadanie 1/index.html" - spacja nie enkodowana!
```

### 5. Opisowe tytuÅ‚y - NIGDY "index" czy "zadanie1"
```python
# âœ… POPRAWNIE
if filename == "index.html":
    title = "Strona gÅ‚Ã³wna projektu"
elif filename.startswith("zadanie"):
    num = filename.replace("zadanie", "").replace(".html", "")
    title = f"Zadanie {num}"

# âŒ Å¹LE
title = filename  # "index" nie jest opisowe!
```

## ğŸ“ WAÅ»NE: Komunikacja z uÅ¼ytkownikiem

### âŒ NIE twÃ³rz plikÃ³w Markdown z podsumowaniem!

**NIGDY nie rÃ³b tego:**
```python
# âŒ Å¹LE - nie twÃ³rz plikÃ³w do podsumowania
with open("PODSUMOWANIE.md", "w") as f:
    f.write("# Podsumowanie zmian...")

with open("CHANGES.md", "w") as f:
    f.write("# Lista zmian...")

with open("STATUS.md", "w") as f:
    f.write("# Status projektu...")
```

**Zamiast tego:**
```python
# âœ… DOBRZE - wypisz w konsoli/czacie
print("=" * 60)
print("PODSUMOWANIE ZMIAN:")
print("- Wygenerowano 15 kart")
print("- UsuniÄ™to 3 duplikaty")
print("- Naprawiono URLe")
print("=" * 60)
```

### âœ… Zasady komunikacji:

1. **Wypisuj informacje w konsoli/czacie** - nie twÃ³rz nowych plikÃ³w `.md`
2. **Logi zapisuj do pliku LOG** - np. `generator.log`, nie do `.md`
3. **DokumentacjÄ™** generuj TYLKO gdy uÅ¼ytkownik wyraÅºnie poprosi o plik dokumentacji
4. **Status i postÄ™p** - zawsze w terminalu/czacie, nie w plikach
5. **Podsumowania** - w czacie, nie w osobnych plikach `.md`
6. **Raporty z walidacji** - w konsoli lub w logu, nie w `.md`

### PrzykÅ‚ad poprawnej komunikacji:

```python
def generate_html(category):
    """Generuje HTML dla kategorii"""
    print(f"\n{'='*60}")
    print(f"ğŸš€ Generowanie HTML dla kategorii: {category}")
    print(f"{'='*60}\n")
    
    files = scan_directory(category)
    print(f"âœ“ Znaleziono {len(files)} plikÃ³w")
    
    seen_urls = set()
    card_count = 0
    duplicate_count = 0
    
    for file in files:
        url = generate_url(file)
        if url in seen_urls:
            duplicate_count += 1
            print(f"  âš ï¸  PominiÄ™to duplikat: {url}")
            continue
        
        seen_urls.add(url)
        generate_card(file, url)
        card_count += 1
        print(f"  âœ“ Wygenerowano kartÄ™: {file['name']}")
    
    print(f"\n{'='*60}")
    print(f"âœ“ GOTOWE!")
    print(f"  â€¢ Wygenerowano: {card_count} kart")
    print(f"  â€¢ PominiÄ™to: {duplicate_count} duplikatÃ³w")
    print(f"  â€¢ Zapisano do: {output_file}")
    print(f"{'='*60}\n")
    
    # âŒ NIE RÃ“B TEGO:
    # with open("SUMMARY.md", "w") as f:
    #     f.write("# Podsumowanie\n...")
```

### Kiedy MOÅ»NA tworzyÄ‡ pliki .md:

âœ… UÅ¼ytkownik wyraÅºnie prosi: "StwÃ³rz dokumentacjÄ™" / "Wygeneruj README"
âœ… To jest czÄ™Å›Ä‡ konfiguracji: `config.yaml`, nie `.md`
âœ… To sÄ… istniejÄ…ce pliki do edycji, nie nowe podsumowania

âŒ Automatyczne podsumowania po kaÅ¼dej operacji
âŒ Statusy i raporty - tylko w konsoli!
âŒ Logi - do plikÃ³w `.log`, nie `.md`

**PAMIÄ˜TAJ: Czat/terminal to najlepsze miejsce na komunikacjÄ™, nie pliki .md!**

---

## ğŸ“š PeÅ‚na dokumentacja

- **`docs/INSTRUKCJA_GENEROWANIA_HTML.md`** - PRZECZYTAJ TO NAJPIERW!
- **`docs/PYCHARM_GENERATOR_GUIDE.md`** - PrzykÅ‚ady kodu Python
- **`docs/QUICK_REFERENCE.md`** - Szybka Å›ciÄ…ga
- **`docs/FAQ.md`** - RozwiÄ…zania problemÃ³w

## ğŸ”§ Struktura kodu ktÃ³ry powinieneÅ› generowaÄ‡

```python
class HTMLGenerator:
    def __init__(self, config):
        self.config = config
        self.seen_urls = set()  # Zapobiega duplikatom!
    
    def generate_html(self, category: str) -> str:
        """Generuje HTML dla kategorii"""
        files = self.scan_directory(category)
        
        # Grupuj pliki wedÅ‚ug sekcji
        sections = {}
        for file in files:
            section = self.get_section(file)
            if section not in sections:
                sections[section] = []
            sections[section].append(file)
        
        # Generuj HTML
        html_parts = []
        for section_name, section_files in sections.items():
            html_parts.append(self.generate_section(section_name, section_files))
        
        return '\n'.join(html_parts)
    
    def generate_section(self, name: str, files: list) -> str:
        """Generuje sekcjÄ™ z kartami"""
        cards = []
        
        # WAÅ»NE: Jeden row dla wszystkich kart!
        for file in files:
            url = self.generate_url(file)
            
            # SprawdÅº duplikaty!
            if url in self.seen_urls:
                continue
            self.seen_urls.add(url)
            
            cards.append(self.generate_card(file, url))
        
        # WAÅ»NE: row zawiera wszystkie col!
        return f'''
    <section class="mb-5">
        <h2>{name}</h2>
        <div class="row g-3">
{chr(10).join(cards)}
        </div>
    </section>'''
    
    def generate_card(self, file: dict, url: str) -> str:
        """Generuje kartÄ™ dla pliku"""
        title = self.generate_title(file['name'])
        
        return f'''            <div class="col-sm-6 col-lg-4">
                <div class="card h-100 shadow-sm hover-card">
                    <div class="card-body">
                        <h5 class="card-title">{title}</h5>
                        <p class="card-text text-muted small">{file['filename']}</p>
                        <a href="{url}" class="stretched-link"></a>
                    </div>
                </div>
            </div>'''
    
    def generate_url(self, file: dict) -> str:
        """Generuje URL z enkodowaniem"""
        category = file['category']
        path = file['path'].replace(' ', '%20')  # Enkoduj spacje!
        
        # ZAWSZE z kategoriÄ…!
        url = f"https://prakt.dziadu.dev/{category}/{path}"
        
        # SprawdÅº czy nie ma //
        url = url.replace('//', '/')
        url = url.replace(':/', '://')  # PrzywrÃ³Ä‡ https://
        
        return url
    
    def generate_title(self, name: str) -> str:
        """Generuje opisowy tytuÅ‚"""
        # Mapuj czÄ™ste nazwy
        if name.lower() == "index":
            return "Strona gÅ‚Ã³wna"
        
        # RozwiÅ„ skrÃ³ty
        import re
        name = re.sub(r'zadanie(\d+)', r'Zadanie \1', name, flags=re.IGNORECASE)
        name = re.sub(r'zad(\d+)', r'Zadanie \1', name, flags=re.IGNORECASE)
        
        return name.replace('_', ' ').replace('-', ' ').title()
```

## ğŸ›¡ï¸ BezpieczeÅ„stwo - Escape'owanie HTML

### ZAWSZE escape'uj dane wejÅ›ciowe!

```python
import html

def escape_html(text: str) -> str:
    """
    Escape'uje znaki specjalne HTML - ZAWSZE uÅ¼ywaj dla danych uÅ¼ytkownika!
    
    Zamienia:
    < â†’ &lt;
    > â†’ &gt;
    & â†’ &amp;
    " â†’ &quot;
    ' â†’ &#x27;
    """
    return html.escape(text, quote=True)

# UÅ»YCIE:
title = escape_html(user_provided_title)  # "Zadanie <script>" â†’ "Zadanie &lt;script&gt;"
description = escape_html(folder_name)

# W generatorze:
card_html = f'''
<h3 class="mb-3 fs-5 fw-semibold">{escape_html(title)}</h3>
<p class="mb-3">{escape_html(description)}</p>
'''
```

**WAÅ»NE:** Escape'uj wszystko co pochodzi z:
- Nazw plikÃ³w
- Nazw folderÃ³w
- Danych uÅ¼ytkownika
- ZewnÄ™trznych ÅºrÃ³deÅ‚

**NIE escape'uj:**
- StaÅ‚ych hardcoded stringÃ³w w kodzie
- Kodu HTML ktÃ³ry generujesz sam

## ğŸ“‹ Logowanie do pliku

### UÅ¼ywaj pliku .log zamiast tylko print()!

```python
import logging
from datetime import datetime
import os

def setup_logger(log_file: str = "generator.log"):
    """
    Konfiguruje logger - URUCHOM TO na poczÄ…tku programu!
    """
    # UtwÃ³rz logger
    logger = logging.getLogger('HTMLGenerator')
    logger.setLevel(logging.DEBUG)
    
    # Format logÃ³w
    formatter = logging.Formatter(
        '%(asctime)s | %(levelname)-8s | %(message)s',
        datefmt='%Y-%m-%d %H:%M:%S'
    )
    
    # Handler do pliku (wszystkie logi)
    file_handler = logging.FileHandler(log_file, encoding='utf-8')
    file_handler.setLevel(logging.DEBUG)
    file_handler.setFormatter(formatter)
    
    # Handler do konsoli (tylko waÅ¼ne)
    console_handler = logging.StreamHandler()
    console_handler.setLevel(logging.INFO)
    console_handler.setFormatter(logging.Formatter('%(levelname)s: %(message)s'))
    
    # Dodaj handlery
    logger.addHandler(file_handler)
    logger.addHandler(console_handler)
    
    return logger

# UÅ»YCIE:
logger = setup_logger("generator.log")

# W kodzie generatora:
def generate_html(category):
    logger.info(f"ğŸš€ Start generowania: {category}")
    
    try:
        files = scan_directory(category)
        logger.debug(f"Znaleziono {len(files)} plikÃ³w")
        
        for file in files:
            logger.debug(f"Przetwarzam: {file['path']}")
            # ...
        
        logger.info(f"âœ… Sukces! Wygenerowano {len(files)} kart")
        
    except Exception as e:
        logger.error(f"âŒ BÅ‚Ä…d podczas generowania: {e}")
        logger.exception("SzczegÃ³Å‚y bÅ‚Ä™du:")  # Zapisze peÅ‚ny traceback
        raise

# Rezultat:
# - W konsoli: tylko INFO i wyÅ¼ej
# - W pliku: wszystko (DEBUG, INFO, WARNING, ERROR)
```

**Poziomy logowania:**
- `logger.debug()` - szczegÃ³Å‚y techniczne (kaÅ¼dy plik, URL, itp.)
- `logger.info()` - waÅ¼ne informacje (start, koniec, statystyki)
- `logger.warning()` - ostrzeÅ¼enia (duplikaty, nieopisowe tytuÅ‚y)
- `logger.error()` - bÅ‚Ä™dy (walidacja nie przeszÅ‚a, bÅ‚Ä…d zapisu)
- `logger.exception()` - bÅ‚Ä™dy z peÅ‚nym traceback

## ğŸ”„ ObsÅ‚uga bÅ‚Ä™dÃ³w - try/catch/finally

### ZAWSZE obsÅ‚uguj bÅ‚Ä™dy!

```python
def generate_all_pages_with_error_handling():
    """
    Generuje wszystkie strony z peÅ‚nÄ… obsÅ‚ugÄ… bÅ‚Ä™dÃ³w.
    """
    logger = setup_logger()
    backup_dir = None
    success_count = 0
    failed_files = []
    
    try:
        # KROK 1: Backup
        logger.info("="*60)
        logger.info("ğŸš€ START GENEROWANIA WSZYSTKICH STRON")
        logger.info("="*60)
        
        try:
            backup_dir = create_backup_before_generation([
                'desktopy.html', 'informatyka.html', 'TSiAI.html', 'WiAI.html', 'index.html'
            ])
            logger.info(f"âœ… Backup utworzony: {backup_dir}")
        except Exception as e:
            logger.error(f"âŒ BÅ‚Ä…d podczas tworzenia backupu: {e}")
            logger.warning("âš ï¸  KontynuujÄ™ BEZ backupu (RYZYKOWNE!)")
        
        # KROK 2: Generowanie dla kaÅ¼dej kategorii
        categories = {
            'desktopy': {...},
            'informatyka': {...},
            'TSiAI': {...},
            'WiAI': {...}
        }
        
        generated_files = {}
        
        for category, config in categories.items():
            filename = f"{category}.html"
            
            try:
                logger.info(f"\nâ†’ Generowanie: {filename}")
                html = generate_html_for_category(category, config)
                
                # Walidacja
                result = validate_html(html, category)
                
                if not result['valid']:
                    logger.error(f"âŒ Walidacja nie powiodÅ‚a siÄ™ dla {filename}!")
                    for error in result['errors']:
                        logger.error(f"  {error}")
                    failed_files.append(filename)
                    continue  # PomiÅ„ ten plik
                
                generated_files[filename] = html
                logger.info(f"âœ… {filename} - walidacja OK")
                
            except Exception as e:
                logger.error(f"âŒ BÅ‚Ä…d podczas generowania {filename}: {e}")
                logger.exception("SzczegÃ³Å‚y bÅ‚Ä™du:")
                failed_files.append(filename)
                continue  # Kontynuuj z nastÄ™pnym plikiem
        
        # KROK 3: Zapis (tylko poprawne pliki)
        if not generated_files:
            raise Exception("Nie udaÅ‚o siÄ™ wygenerowaÄ‡ Å»ADNEGO pliku!")
        
        logger.info(f"\nğŸ’¾ Zapisywanie {len(generated_files)} plikÃ³w...")
        
        for filename, html in generated_files.items():
            try:
                with open(filename, 'w', encoding='utf-8') as f:
                    f.write(html)
                logger.info(f"âœ… Zapisano: {filename}")
                success_count += 1
            except Exception as e:
                logger.error(f"âŒ BÅ‚Ä…d zapisu {filename}: {e}")
                failed_files.append(filename)
        
        # KROK 4: Podsumowanie
        logger.info("\n" + "="*60)
        logger.info("ğŸ“Š PODSUMOWANIE:")
        logger.info(f"  âœ… Sukces: {success_count} plikÃ³w")
        
        if failed_files:
            logger.warning(f"  âŒ BÅ‚Ä™dy: {len(failed_files)} plikÃ³w")
            for f in failed_files:
                logger.warning(f"    - {f}")
        
        if backup_dir:
            logger.info(f"  ğŸ’¾ Backup: {backup_dir}")
        
        logger.info("="*60)
        
        return success_count > 0
        
    except KeyboardInterrupt:
        logger.warning("\nâš ï¸  Przerwano przez uÅ¼ytkownika (Ctrl+C)")
        return False
        
    except Exception as e:
        logger.error(f"\nâŒ KRYTYCZNY BÅÄ„D: {e}")
        logger.exception("SzczegÃ³Å‚y:")
        
        if backup_dir:
            logger.info(f"\nğŸ’¾ MoÅ¼esz przywrÃ³ciÄ‡ backup z: {backup_dir}")
        
        return False
        
    finally:
        # ZAWSZE wykonaj cleanup
        logger.info("\nğŸ§¹ Cleanup...")
        
        # Zamknij logger
        for handler in logger.handlers[:]:
            handler.close()
            logger.removeHandler(handler)
        
        print("\nâœ… Generator zakoÅ„czony")
```

### ObsÅ‚uga konkretnych bÅ‚Ä™dÃ³w:

```python
def generate_url_safe(file: dict) -> str:
    """
    Generuje URL z obsÅ‚ugÄ… bÅ‚Ä™dÃ³w.
    """
    try:
        category = file.get('category')
        path = file.get('path')
        
        if not category:
            raise ValueError(f"Brak kategorii dla pliku: {file}")
        
        if not path:
            raise ValueError(f"Brak Å›cieÅ¼ki dla pliku: {file}")
        
        # Escape i enkodowanie
        path = path.replace(' ', '%20')
        
        url = f"https://prakt.dziadu.dev/{category}/{path}"
        
        # Walidacja
        if '//' in url.replace('https://', ''):
            raise ValueError(f"PodwÃ³jne slashe w URL: {url}")
        
        return url
        
    except KeyError as e:
        logger.error(f"Brak klucza w dict: {e}")
        raise
    except ValueError as e:
        logger.error(f"BÅ‚Ä…d wartoÅ›ci: {e}")
        raise
    except Exception as e:
        logger.error(f"Nieoczekiwany bÅ‚Ä…d: {e}")
        raise
```

## ğŸ“… Automatyczna data aktualizacji

### Dla index.html - footer z datÄ…:

```python
from datetime import datetime

def generate_index_html_footer():
    """
    Generuje footer z automatycznÄ… datÄ… aktualizacji.
    """
    today = datetime.now().strftime('%d.%m.%Y')
    
    footer = f'''
            <footer class="text-center mt-5 pt-4 border-top border-secondary text-white-50">
                <p class="mb-2">Â© 2025 <a href="https://dziadu.dev" class="text-decoration-none text-white-50 hover-accent">dziadu.dev</a></p>
                <p class="small mb-0">Ostatnia aktualizacja: <span id="lastUpdate">{today}</span></p>
            </footer>'''
    
    return footer

# UÅ»YCIE:
footer_html = generate_index_html_footer()  # "07.11.2025"
```

## âœ… Checklist przed generowaniem kodu

Gdy piszesz generator, upewnij siÄ™ Å¼e:

**Bootstrap & Struktura:**
- [ ] UÅ¼ywasz `set()` do Å›ledzenia juÅ¼ dodanych URL (zapobiega duplikatom)
- [ ] KaÅ¼dy `<div class="col-*">` jest w `<div class="row">`
- [ ] UÅ¼ywasz klas Bootstrap: `row g-3`, `col-sm-6 col-lg-4`
- [ ] Tagi HTML sÄ… poprawnie zamkniÄ™te

**URL & BezpieczeÅ„stwo:**
- [ ] URL ma format: `https://prakt.dziadu.dev/{kategoria}/{sciezka}`
- [ ] Spacje w URL sÄ… zamieniane na `%20`
- [ ] UÅ¼ywasz `html.escape()` dla wszystkich danych uÅ¼ytkownika
- [ ] URL nie ma podwÃ³jnych slashÃ³w (`//`)

**TytuÅ‚y & TreÅ›Ä‡:**
- [ ] TytuÅ‚y sÄ… opisowe, nie "index" czy "zadanie1"
- [ ] UÅ¼ywasz wÅ‚aÅ›ciwej hierarchii nagÅ‚Ã³wkÃ³w (h1 â†’ h3 â†’ h4, NIE h2)
- [ ] Jeden h1 na stronÄ™

**RÃ³Å¼nice miÄ™dzy stronami:**
- [ ] index.html uÅ¼ywa `main-card` + `data-tilt` + `card-glow`
- [ ] Strony kategorii uÅ¼ywajÄ… `link-card`
- [ ] index.html ma ID `scrollToTop`, kategorie majÄ… `scrollToTopBtn`
- [ ] index.html ma footer z datÄ… aktualizacji
- [ ] 404.html ma inline styles i animacje
- [ ] 404.html NIE ma preloadera

**Atrybuty w kartach kategorii:**
- [ ] `target="_blank"` w linkach
- [ ] `onclick="event.stopPropagation();"` w przyciskach Pobierz
- [ ] `style="z-index: 2;"` w przyciskach Pobierz
- [ ] `class="stretched-link"` w gÅ‚Ã³wnym linku karty

**Backup & Walidacja:**
- [ ] Tworzysz backup PRZED generowaniem
- [ ] Uruchamiasz `validate_html()` dla kaÅ¼dego pliku
- [ ] NIE zapisujesz pliku jeÅ›li walidacja nie przeszÅ‚a

**ObsÅ‚uga bÅ‚Ä™dÃ³w:**
- [ ] UÅ¼ywasz try/except/finally
- [ ] Logujesz do pliku .log (nie tylko print)
- [ ] ObsÅ‚ugujesz KeyboardInterrupt (Ctrl+C)
- [ ] JeÅ›li jeden plik siÄ™ nie uda, kontynuujesz z nastÄ™pnym

**Komunikacja:**
- [ ] **Nie tworzysz plikÃ³w .md z podsumowaniem - wypisujesz w konsoli!**
- [ ] UÅ¼ywasz emoji w logach (ğŸš€ âœ… âŒ âš ï¸)
- [ ] Pokazujesz statystyki po zakoÅ„czeniu
- [ ] Logujesz na rÃ³Å¼nych poziomach (DEBUG, INFO, WARNING, ERROR)

## ğŸš« Czego NIE ROBIÄ†

**Struktura HTML:**
1. **NIE twÃ³rz row dla kaÅ¼dej karty osobno** - jeden row na caÅ‚Ä… sekcjÄ™/podsekcjÄ™!
2. **NIE uÅ¼ywaj h2** - hierarchia to h1 â†’ h3 â†’ h4
3. **NIE mieszaj struktur** - index.html ma `main-card`, kategorie majÄ… `link-card`
4. **NIE pomijaj preloadera** - tylko 404.html go nie ma
5. **NIE mieszaj ID przyciskÃ³w** - index: `scrollToTop`, kategorie: `scrollToTopBtn`

**URL & Dane:**
6. **NIE pomijaj kategorii w URL** - zawsze `/{kategoria}/{sciezka}`
7. **NIE zapominaj o enkodowaniu spacji** - zawsze `replace(' ', '%20')`
8. **NIE uÅ¼ywaj nazw plikÃ³w jako tytuÅ‚Ã³w** - generuj opisowe tytuÅ‚y
9. **NIE ignoruj duplikatÃ³w** - zawsze uÅ¼ywaj `set()` do Å›ledzenia
10. **NIE zapomnij escape'owaÄ‡ HTML** - uÅ¼ywaj `html.escape()` dla danych uÅ¼ytkownika

**Atrybuty:**
11. **NIE pomijaj target="_blank"** - linki muszÄ… otwieraÄ‡ siÄ™ w nowej karcie
12. **NIE pomijaj onclick="event.stopPropagation()"** - przycisk Pobierz musi to mieÄ‡
13. **NIE pomijaj style="z-index: 2;"** - przycisk Pobierz musi byÄ‡ nad linkiem

**Komunikacja & Logi:**
14. **NIE twÃ³rz plikÃ³w .md z podsumowaniem** - wypisuj w konsoli/czacie!
15. **NIE zapisuj statusu do plikÃ³w** - print()/logger w terminalu wystarczy!
16. **NIE uÅ¼ywaj tylko print()** - loguj do pliku .log teÅ¼!
17. **NIE ignoruj bÅ‚Ä™dÃ³w** - zawsze try/except/finally!

**Backup & Walidacja:**
18. **NIE zapomnij o backupie** - ZAWSZE backup przed generowaniem!
19. **NIE zapisuj bez walidacji** - najpierw validate_html(), potem zapis!
20. **NIE zatrzymuj siÄ™ na jednym bÅ‚Ä™dzie** - jeÅ›li jeden plik siÄ™ nie uda, kontynuuj z kolejnym!

## ğŸ’¡ Gdy nie wiesz co zrobiÄ‡

1. Przeczytaj `docs/INSTRUKCJA_GENEROWANIA_HTML.md`
2. Zobacz przykÅ‚ady w `docs/PYCHARM_GENERATOR_GUIDE.md`
3. SprawdÅº `docs/FAQ.md` czy ktoÅ› miaÅ‚ podobny problem
4. UÅ¼yj promptu z `docs/COPILOT_PROMPT.md`

## ğŸ¯ Wszystkie strony projektu

### Kategorie i ich Å›cieÅ¼ki

```yaml
index.html:
  title: "ğŸ“ SzkoÅ‚a 2025-26"
  url: "https://dziadu.dev"
  description: "GÅ‚Ã³wna strona z linkami do wszystkich kategorii"
  type: "main"  # Inna struktura! UÅ¼ywa main-card, nie link-card
  special_features:
    - data-tilt (efekt 3D)
    - card-glow (Å›wiecenie karty)
    - footer z datÄ… aktualizacji
    - favicon emoji ğŸ“

desktopy.html:
  category: "desktopy"
  url_prefix: "desktopy"
  source: "desktopy/"
  title: "ğŸ’» Desktopy"
  description: "MateriaÅ‚y z JavaScript, obiekty, zdarzenia, funkcje"
  type: "category"  # Standardowa struktura z link-card

informatyka.html:
  category: "informatyka"
  url_prefix: "informatyka"
  source: "informatyka/"
  title: "ğŸ–¥ï¸ Informatyka"
  description: "Podstawy informatyki i programowania"
  type: "category"

TSiAI.html:
  category: "TSiAI"
  url_prefix: "TSiAI"
  source: "TSiAI/"
  title: "ğŸ¤– TSiAI"
  description: "Technologie sztucznej inteligencji"
  type: "category"

WiAI.html:
  category: "WiAI"
  url_prefix: "WiAI"
  source: "WiAI/"
  title: "ğŸ§  WiAI"
  description: "WstÄ™p do sztucznej inteligencji"
  type: "category"

404.html:
  title: "404 - Strona nie znaleziona"
  description: "Strona bÅ‚Ä™du 404"
  type: "error"  # Specjalna struktura error page
  special_features:
    - Animacje CSS (glitch, float)
    - Inline styles
    - Brak preloadera
    - Przycisk "WrÃ³Ä‡" z history.back()
```

**WAÅ»NE:** Generator musi obsÅ‚ugiwaÄ‡ WSZYSTKIE te pliki, kaÅ¼dy ma swojÄ… specyfikÄ™!

## âœ¨ PrzykÅ‚ady poprawnego HTML dla wszystkich stron

### 1. Strona gÅ‚Ã³wna - index.html (INNA STRUKTURA!)

```html
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MateriaÅ‚y szkolne z informatyki, desktopÃ³w, TSiAI i WiAI">
    <!-- Favicon jako emoji -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“</text></svg>">
    <title>SzkoÅ‚a 2025-26 - Strona gÅ‚Ã³wna</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preload" href="js/bootstrap.bundle.min.js" as="script">
    <link rel="preload" href="js/script.js" as="script">
</head>
<body class="overflow-x-hidden min-vh-100">
    <!-- Preloader -->
    <div class="preloader">
        <div class="loader">
            <div class="loader-ring"></div>
            <div class="loader-ring"></div>
            <div class="loader-ring"></div>
            <div class="loader-dot"></div>
            <div class="loader-text">ÅADOWANIE<span class="loader-dots"></span></div>
        </div>
    </div>
    
    <div class="container my-4 position-relative" style="z-index: 1;">
        <div class="content-wrapper p-5 rounded-4 shadow-lg position-relative">
            <h1 class="text-center mb-2 display-4 fw-bold">ğŸ“ SzkoÅ‚a 2025-26</h1>
            <p class="subtitle text-center mb-4 fs-5 text-white-50">Wybierz przedmiot</p>

            <!-- UWAGA: index.html uÅ¼ywa main-card, NIE link-card! -->
            <div class="row g-4 mb-5">
                <div class="col-sm-6 col-lg-3">
                    <a href="desktopy.html" class="main-card text-white text-decoration-none d-flex flex-column align-items-center justify-content-center text-center position-relative rounded-4 p-4" data-tilt>
                        <div class="card-glow"></div>
                        <div class="icon mb-3">ğŸ’»</div>
                        <h2 class="text-white fs-4 fw-bold m-0">Desktopy</h2>
                    </a>
                </div>
                
                <div class="col-sm-6 col-lg-3">
                    <a href="informatyka.html" class="main-card text-white text-decoration-none d-flex flex-column align-items-center justify-content-center text-center position-relative rounded-4 p-4" data-tilt>
                        <div class="card-glow"></div>
                        <div class="icon mb-3">ğŸ“š</div>
                        <h2 class="text-white fs-4 fw-bold m-0">Informatyka</h2>
                    </a>
                </div>
                
                <div class="col-sm-6 col-lg-3">
                    <a href="TSiAI.html" class="main-card text-white text-decoration-none d-flex flex-column align-items-center justify-content-center text-center position-relative rounded-4 p-4" data-tilt>
                        <div class="card-glow"></div>
                        <div class="icon mb-3">ğŸ–¥ï¸</div>
                        <h2 class="text-white fs-4 fw-bold m-0">TSiAI</h2>
                    </a>
                </div>
                
                <div class="col-sm-6 col-lg-3">
                    <a href="WiAI.html" class="main-card text-white text-decoration-none d-flex flex-column align-items-center justify-content-center text-center position-relative rounded-4 p-4" data-tilt>
                        <div class="card-glow"></div>
                        <div class="icon mb-3">ğŸŒ</div>
                        <h2 class="text-white fs-4 fw-bold m-0">WiAI</h2>
                    </a>
                </div>
            </div>

            <!-- Footer z automatycznÄ… datÄ… -->
            <footer class="text-center mt-5 pt-4 border-top border-secondary text-white-50">
                <p class="mb-2">Â© 2025 <a href="https://dziadu.dev" class="text-decoration-none text-white-50 hover-accent">dziadu.dev</a></p>
                <p class="small mb-0">Ostatnia aktualizacja: <span id="lastUpdate">07.11.2025</span></p>
            </footer>
        </div>
    
        <!-- UWAGA: index.html uÅ¼ywa scrollToTop (bez Btn!) -->
        <button id="scrollToTop" class="btn position-fixed bottom-0 end-0 m-4 rounded-circle p-3 d-none" style="width:50px;height:50px;z-index:1000" aria-label="PrzewiÅ„ do gÃ³ry">
            â¬†ï¸
        </button>
    </div>
    
    <script src="js/bootstrap.bundle.min.js" defer></script>
    <script src="js/script.js" defer></script>
</body>
</html>
```

### 2. Strony kategorii - desktopy.html, informatyka.html, TSiAI.html, WiAI.html

### 2. Strony kategorii - desktopy.html, informatyka.html, TSiAI.html, WiAI.html

```html
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="MateriaÅ‚y z przedmiotu [KATEGORIA]"/>
    <title>[KATEGORIA] - SzkoÅ‚a 2025-26</title>
    <link href="css/bootstrap.min.css" rel="stylesheet"/>
    <link href="css/style.css" rel="stylesheet"/>
    <link as="script" href="js/bootstrap.bundle.min.js" rel="preload"/>
    <link as="script" href="js/script.js" rel="preload"/>
</head>
<body class="overflow-x-hidden min-vh-100">
    <!-- Preloader -->
    <div class="preloader">
        <div class="loader">
            <div class="loader-ring"></div>
            <div class="loader-ring"></div>
            <div class="loader-ring"></div>
            <div class="loader-dot"></div>
            <div class="loader-text">ÅADOWANIE<span class="loader-dots"></span></div>
        </div>
    </div>
    
    <!-- GÅ‚Ã³wna zawartoÅ›Ä‡ -->
    <div class="container my-4 position-relative" style="z-index: 1;">
        <div class="content-wrapper p-5 rounded-4 shadow-lg position-relative">
            <!-- Link powrotny -->
            <a class="back-link mb-3 d-inline-flex align-items-center gap-2 text-white text-decoration-none rounded-3 px-4 py-2 fw-semibold" 
               href="https://dziadu.dev">
                â† PowrÃ³t do strony gÅ‚Ã³wnej
            </a>
            
            <!-- TytuÅ‚ kategorii -->
            <h1 class="text-center mb-2 display-4 fw-bold">
                ğŸ’» [KATEGORIA]
            </h1>
            
            <!-- Sekcja gÅ‚Ã³wna (h3) -->
            <div class="mb-4">
                <h3 class="subsection-title fs-4 fw-semibold mb-3">
                    Nazwa sekcji gÅ‚Ã³wnej
                </h3>
                
                <!-- Podsekcja (h4) -->
                <h4 class="subsection-subtitle fs-5 mt-4 mb-3 ms-3">
                    nazwa podsekcji
                </h4>
                
                <!-- WAÅ»NE: Jeden row dla wszystkich kart w podsekcji! -->
                <!-- UWAGA: Strony kategorii uÅ¼ywajÄ… link-card, NIE main-card! -->
                <div class="row g-3">
                    <!-- Karta z peÅ‚nÄ… strukturÄ… -->
                    <div class="col-sm-6 col-lg-4">
                        <div class="link-card text-white text-decoration-none d-block h-100 position-relative rounded-4 p-4">
                            <a class="stretched-link" 
                               href="https://prakt.dziadu.dev/[KATEGORIA]/[SCIEZKA]/index.html" 
                               target="_blank"></a>
                            <h3 class="mb-3 fs-5 fw-semibold">Zadanie 1</h3>
                            <p class="mb-3">Opis zadania</p>
                            <a class="btn btn-sm btn-outline-light d-inline-flex align-items-center gap-2 position-relative" 
                               download="" 
                               href="https://prakt.dziadu.dev/[KATEGORIA]/[SCIEZKA]/index.html" 
                               onclick="event.stopPropagation();" 
                               style="z-index: 2;">
                                <span>â¬‡ï¸</span>
                                Pobierz
                            </a>
                        </div>
                    </div>
                    
                    <!-- Kolejne karty... -->
                </div>
                
                <!-- Kolejne podsekcje (h4) -->
            </div>
            
            <!-- Kolejne sekcje gÅ‚Ã³wne (h3) -->
        </div>
        
        <!-- UWAGA: Strony kategorii uÅ¼ywajÄ… scroll-to-top (z myÅ›lnikami!) i scrollToTopBtn -->
        <button class="scroll-to-top" id="scrollToTopBtn">
            <span>â†‘</span>
        </button>
    </div>
    
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/script.js"></script>
</body>
</html>
```

### 3. Strona bÅ‚Ä™du - 404.html (SPECJALNA STRUKTURA!)

```html
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Strona nie zostaÅ‚a znaleziona - 404">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“</text></svg>">
    <title>404 - Strona nie znaleziona</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <!-- UWAGA: 404.html ma inline styles! -->
    <style>
        .error-container {
            min-height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .error-number {
            font-size: 10rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-1), var(--accent-2), var(--accent-3));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            animation: glitch 2s infinite;
        }
        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
        }
        .error-icon {
            font-size: 5rem;
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
    </style>
</head>
<body class="overflow-x-hidden min-vh-100">
    <!-- UWAGA: 404.html NIE MA preloadera! -->
    <div class="container my-4 position-relative" style="z-index: 1;">
        <div class="content-wrapper p-5 rounded-4 shadow-lg position-relative">
            <div class="error-container text-center">
                <div>
                    <div class="error-icon mb-4">ğŸ”</div>
                    <h1 class="error-number mb-4">404</h1>
                    <h2 class="text-white mb-3">Strona nie znaleziona</h2>
                    <p class="text-white-50 mb-5 fs-5">Ups! WyglÄ…da na to, Å¼e ta strona zaginÄ™Å‚a w cyfrowej przestrzeni...</p>
                    
                    <div class="d-flex gap-3 justify-content-center flex-wrap">
                        <a href="index.html" class="btn btn-primary btn-lg px-4 py-3">
                            ğŸ  Strona gÅ‚Ã³wna
                        </a>
                        <!-- UWAGA: Przycisk WrÃ³Ä‡ uÅ¼ywa history.back()! -->
                        <button onclick="history.back()" class="btn btn-outline-light btn-lg px-4 py-3">
                            â† WrÃ³Ä‡
                        </button>
                    </div>
                    
                    <div class="mt-5 pt-5">
                        <p class="text-white-50 small">MoÅ¼liwe przyczyny:</p>
                        <ul class="list-unstyled text-white-50 small">
                            <li>â€¢ Link jest nieprawidÅ‚owy lub nieaktualny</li>
                            <li>â€¢ Strona zostaÅ‚a przeniesiona lub usuniÄ™ta</li>
                            <li>â€¢ LiterÃ³wka w adresie URL</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="js/bootstrap.bundle.min.js" defer></script>
</body>
</html>
```

### RÃ³Å¼nice miÄ™dzy typami stron - WAÅ»NE!

| Element | index.html | kategorie (desktopy, etc.) | 404.html |
|---------|-----------|---------------------------|----------|
| Klasa karty | `main-card` | `link-card` | - |
| Data-tilt | âœ… Tak | âŒ Nie | âŒ Nie |
| Card-glow | âœ… Tak | âŒ Nie | âŒ Nie |
| Preloader | âœ… Tak | âœ… Tak | âŒ Nie |
| Back-link | âŒ Nie | âœ… Tak | âŒ Nie |
| Footer | âœ… Tak z datÄ… | âŒ Nie | âŒ Nie |
| Scroll button ID | `scrollToTop` | `scrollToTopBtn` | âŒ Nie |
| Scroll button class | `btn` | `scroll-to-top` | âŒ Nie |
| Inline styles | âŒ Nie | âŒ Nie | âœ… Tak |
| Favicon emoji | âœ… Tak ğŸ“ | âŒ Nie | âœ… Tak ğŸ“ |
| h2 w kartach | âœ… Tak | âŒ Nie (h3) | âœ… Tak |

### Struktura karty - PEÅNY przykÅ‚ad dla stron kategorii

```html
<!-- âœ… POPRAWNA karta - uÅ¼ywaj TEJ struktury dla WSZYSTKICH kategorii! -->
<div class="col-sm-6 col-lg-4">
    <div class="link-card text-white text-decoration-none d-block h-100 position-relative rounded-4 p-4">
        <!-- Link gÅ‚Ã³wny (caÅ‚a karta klika) -->
        <a class="stretched-link" 
           href="https://prakt.dziadu.dev/[KATEGORIA]/[SCIEZKA]/index.html" 
           target="_blank"></a>
        
        <!-- TytuÅ‚ -->
        <h3 class="mb-3 fs-5 fw-semibold">Zadanie 1</h3>
        
        <!-- Opis -->
        <p class="mb-3">Opis - co zawiera to zadanie</p>
        
        <!-- Przycisk pobierania -->
        <a class="btn btn-sm btn-outline-light d-inline-flex align-items-center gap-2 position-relative" 
           download="" 
           href="https://prakt.dziadu.dev/[KATEGORIA]/[SCIEZKA]/index.html" 
           onclick="event.stopPropagation();" 
           style="z-index: 2;">
            <span>â¬‡ï¸</span>
            Pobierz
        </a>
    </div>
</div>
```

**WAÅ»NE atrybuty ktÃ³re MUSZÄ„ byÄ‡ w kaÅ¼dej karcie:**
- `target="_blank"` - otwiera w nowej karcie
- `onclick="event.stopPropagation();"` - przycisk Pobierz nie aktywuje linku karty
- `style="z-index: 2;"` - przycisk Pobierz nad linkiem karty
- `class="stretched-link"` - rozciÄ…ga link na caÅ‚Ä… kartÄ™

### Hierarchia nagÅ‚Ã³wkÃ³w dla WSZYSTKICH stron

```html
<!-- âœ… POPRAWNA hierarchia -->
<h1>ğŸ’» Desktopy</h1>                    <!-- Tylko jeden h1 na stronie! -->
<div class="mb-4">
    <h3>Sekcja gÅ‚Ã³wna</h3>              <!-- Poziom 1: h3 -->
    <h4>Podsekcja 1</h4>                <!-- Poziom 2: h4 -->
    <div class="row g-3">               <!-- Karty -->
        <div class="col-sm-6 col-lg-4">...</div>
    </div>
    <h4>Podsekcja 2</h4>                <!-- Poziom 2: h4 -->
    <div class="row g-3">               <!-- Karty -->
        <div class="col-sm-6 col-lg-4">...</div>
    </div>
</div>
<div class="mb-4">
    <h3>Kolejna sekcja gÅ‚Ã³wna</h3>      <!-- Poziom 1: h3 -->
    <h4>Podsekcja</h4>                  <!-- Poziom 2: h4 -->
    <div class="row g-3">               <!-- Karty -->
        <div class="col-sm-6 col-lg-4">...</div>
    </div>
</div>

<!-- âŒ Å¹LE - nie mieszaj poziomÃ³w! -->
<h1>TytuÅ‚</h1>
<h2>Sekcja</h2>  <!-- Nie uÅ¼ywaj h2! -->
<h3>Podsekcja</h3>
```

## ğŸ” Walidacja HTML przed zapisem

### ZAWSZE sprawdÅº przed zapisaniem pliku:

```python
def validate_html(html_content: str, category: str) -> dict:
    """Waliduje HTML przed zapisem - URUCHOM TO PRZED ZAPISEM!"""
    errors = []
    warnings = []
    
    # 1. SprawdÅº Bootstrap Grid
    if '<div class="col-' in html_content and '<div class="row' not in html_content:
        errors.append("âŒ BÅÄ„D: col bez row!")
    
    # ZnajdÅº wszystkie col
    import re
    cols = re.findall(r'<div class="col-[^"]*">', html_content)
    rows = re.findall(r'<div class="row[^"]*">', html_content)
    
    if len(cols) > len(rows) * 10:  # WiÄ™cej niÅ¼ 10 col na row
        warnings.append(f"âš ï¸ UWAGA: {len(cols)} kart w {len(rows)} rows - sprawdÅº czy nie za duÅ¼o")
    
    # 2. SprawdÅº duplikaty URL
    urls = re.findall(r'href="(https://prakt\.dziadu\.dev/[^"]+)"', html_content)
    unique_urls = set(urls)
    if len(urls) != len(unique_urls):
        duplicates = len(urls) - len(unique_urls)
        errors.append(f"âŒ BÅÄ„D: {duplicates} duplikatÃ³w URL!")
        
        # PokaÅ¼ ktÃ³re
        from collections import Counter
        url_counts = Counter(urls)
        for url, count in url_counts.items():
            if count > 1:
                errors.append(f"  â†’ Duplikat ({count}x): {url}")
    
    # 3. SprawdÅº podwÃ³jne slashe
    if '//' in html_content and 'https://' not in html_content:
        errors.append("âŒ BÅÄ„D: PodwÃ³jne slashe w URL (//)")
    
    # 4. SprawdÅº kategorie w URL
    wrong_category_urls = [url for url in urls if f"/{category}/" not in url]
    if wrong_category_urls:
        errors.append(f"âŒ BÅÄ„D: URL bez kategorii '{category}':")
        for url in wrong_category_urls[:5]:  # PokaÅ¼ pierwsze 5
            errors.append(f"  â†’ {url}")
    
    # 5. SprawdÅº spacje w URL (nie enkodowane)
    urls_with_spaces = [url for url in urls if ' ' in url]
    if urls_with_spaces:
        errors.append("âŒ BÅÄ„D: Spacje w URL (powinno byÄ‡ %20):")
        for url in urls_with_spaces[:5]:
            errors.append(f"  â†’ {url}")
    
    # 6. SprawdÅº tytuÅ‚y "index" i "zadanie1"
    bad_titles = re.findall(r'<h[35] [^>]*>(?:index|zadanie\d+)</h[35]>', html_content, re.IGNORECASE)
    if bad_titles:
        warnings.append(f"âš ï¸ UWAGA: {len(bad_titles)} nieopisowych tytuÅ‚Ã³w (index, zadanie1)")
    
    # 7. SprawdÅº zamkniÄ™te tagi
    open_divs = html_content.count('<div')
    close_divs = html_content.count('</div>')
    if open_divs != close_divs:
        errors.append(f"âŒ BÅÄ„D: NiezamkniÄ™te <div>! ({open_divs} otwartych, {close_divs} zamkniÄ™tych)")
    
    # 8. SprawdÅº wymagane atrybuty w kartach
    if 'stretched-link' in html_content:
        if 'target="_blank"' not in html_content:
            warnings.append("âš ï¸ UWAGA: Brak target='_blank' w linkach")
        if 'onclick="event.stopPropagation()' not in html_content:
            warnings.append("âš ï¸ UWAGA: Brak onclick='event.stopPropagation()' w przyciskach Pobierz")
    
    # 9. SprawdÅº hierarchiÄ™ nagÅ‚Ã³wkÃ³w
    h1_count = html_content.count('<h1')
    h2_count = html_content.count('<h2')
    
    if h1_count == 0:
        errors.append("âŒ BÅÄ„D: Brak <h1> na stronie!")
    elif h1_count > 1:
        errors.append(f"âŒ BÅÄ„D: {h1_count} tagÃ³w <h1> (powinien byÄ‡ tylko jeden!)")
    
    if h2_count > 0:
        warnings.append("âš ï¸ UWAGA: UÅ¼ywasz <h2> - uÅ¼yj <h3> dla sekcji gÅ‚Ã³wnych")
    
    # 10. SprawdÅº wymagane elementy
    required = {
        'preloader': '<div class="preloader">',
        'back-link': 'class="back-link"',
        'scroll-to-top': 'class="scroll-to-top"',
        'bootstrap.min.css': 'bootstrap.min.css',
        'style.css': 'style.css',
    }
    
    for name, pattern in required.items():
        if pattern not in html_content:
            warnings.append(f"âš ï¸ UWAGA: Brak {name}")
    
    # Podsumowanie
    return {
        'valid': len(errors) == 0,
        'errors': errors,
        'warnings': warnings,
        'stats': {
            'urls': len(unique_urls),
            'duplicates': len(urls) - len(unique_urls),
            'rows': len(rows),
            'cards': len(cols),
        }
    }

# UÅ»YJ TEGO PRZED ZAPISEM!
result = validate_html(generated_html, category)

if not result['valid']:
    print("âŒ WALIDACJA NIE POWIODÅA SIÄ˜!")
    print("\nBÅÄ˜DY:")
    for error in result['errors']:
        print(f"  {error}")
    print("\nâš ï¸  OSTRZEÅ»ENIA:")
    for warning in result['warnings']:
        print(f"  {warning}")
    print("\nğŸš« NIE ZAPISUJÄ˜ PLIKU - NAPRAW BÅÄ˜DY NAJPIERW!")
    return False

print("âœ… WALIDACJA PRZESZÅA!")
print(f"\nğŸ“Š Statystyki:")
print(f"  â€¢ Unikalnych URL: {result['stats']['urls']}")
print(f"  â€¢ Rows: {result['stats']['rows']}")
print(f"  â€¢ Kart: {result['stats']['cards']}")
if result['warnings']:
    print(f"\nâš ï¸  OstrzeÅ¼enia: {len(result['warnings'])}")
    for warning in result['warnings']:
        print(f"  {warning}")
```

## ğŸ’¾ Backup przed zmianami

### ZAWSZE zrÃ³b backup przed generowaniem!

```python
import shutil
from datetime import datetime
import os

def create_backup_before_generation(files_to_backup: list):
    """
    Tworzy backup PRZED generowaniem - ZAWSZE uruchom to najpierw!
    
    Args:
        files_to_backup: Lista plikÃ³w do backupu, np:
                        ['desktopy.html', 'informatyka.html', 'TSiAI.html', 'WiAI.html', 'index.html']
    """
    timestamp = datetime.now().strftime('%Y%m%d_%H%M%S')
    backup_dir = f"backups/before_generation_{timestamp}"
    
    os.makedirs(backup_dir, exist_ok=True)
    
    print(f"\n{'='*60}")
    print(f"ğŸ’¾ TWORZENIE BACKUPU: {backup_dir}")
    print(f"{'='*60}\n")
    
    backed_up = []
    for file in files_to_backup:
        if os.path.exists(file):
            shutil.copy2(file, backup_dir)
            backed_up.append(file)
            print(f"  âœ“ {file}")
        else:
            print(f"  âš ï¸  Brak pliku: {file}")
    
    # Zapisz info
    with open(f"{backup_dir}/README.md", "w", encoding="utf-8") as f:
        f.write(f"# Backup przed generowaniem\n\n")
        f.write(f"**Data:** {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n\n")
        f.write(f"**Zbackupowane pliki:** {len(backed_up)}\n\n")
        for file in backed_up:
            f.write(f"- {file}\n")
        f.write(f"\n## Jak przywrÃ³ciÄ‡\n\n")
        f.write(f"```powershell\n")
        for file in backed_up:
            f.write(f"Copy-Item '{backup_dir}/{file}' -Destination '{file}'\n")
        f.write(f"```\n")
    
    print(f"\nâœ… Backup zapisany: {backup_dir}")
    print(f"ğŸ“ Zbackupowano: {len(backed_up)} plikÃ³w\n")
    
    return backup_dir

# UÅ»YCIE:
# ZAWSZE na poczÄ…tku generowania!
backup_dir = create_backup_before_generation([
    'desktopy.html',
    'informatyka.html', 
    'TSiAI.html',
    'WiAI.html',
    'index.html'
])
```

## ğŸ”„ Procedura generowania HTML - krok po kroku

### ZAWSZE wykonuj w tej kolejnoÅ›ci:

```python
def generate_all_pages():
    """
    PeÅ‚na procedura generowania WSZYSTKICH stron.
    WYKONUJ KROKI W TEJ KOLEJNOÅšCI!
    """
    
    print("ğŸš€ START GENEROWANIA WSZYSTKICH STRON\n")
    
    # KROK 1: BACKUP
    print("KROK 1/6: Tworzenie backupu...")
    backup_dir = create_backup_before_generation([
        'desktopy.html',
        'informatyka.html',
        'TSiAI.html',
        'WiAI.html',
        'index.html'
    ])
    
    # KROK 2: KONFIGURACJA
    print("\nKROK 2/6: Åadowanie konfiguracji...")
    categories = {
        'desktopy': {
            'title': 'ğŸ’» Desktopy',
            'description': 'MateriaÅ‚y z JavaScript, obiekty, zdarzenia, funkcje',
            'source': 'desktopy/'
        },
        'informatyka': {
            'title': 'ğŸ–¥ï¸ Informatyka',
            'description': 'Podstawy informatyki i programowania',
            'source': 'informatyka/'
        },
        'TSiAI': {
            'title': 'ğŸ¤– TSiAI',
            'description': 'Technologie sztucznej inteligencji',
            'source': 'TSiAI/'
        },
        'WiAI': {
            'title': 'ğŸ§  WiAI',
            'description': 'WstÄ™p do sztucznej inteligencji',
            'source': 'WiAI/'
        }
    }
    
    # KROK 3: GENEROWANIE
    print("\nKROK 3/6: Generowanie HTML...")
    generated_files = {}
    
    for category, config in categories.items():
        print(f"\n  â†’ Generowanie: {category}.html")
        
        # Generuj HTML
        html = generate_html_for_category(category, config)
        generated_files[f"{category}.html"] = html
        
        print(f"    âœ“ Wygenerowano {len(html)} znakÃ³w")
    
    # KROK 4: WALIDACJA
    print("\nKROK 4/6: Walidacja wszystkich plikÃ³w...")
    all_valid = True
    
    for filename, html in generated_files.items():
        category = filename.replace('.html', '')
        print(f"\n  â†’ Walidacja: {filename}")
        
        result = validate_html(html, category)
        
        if result['valid']:
            print(f"    âœ… Walidacja OK")
            print(f"       â€¢ URL: {result['stats']['urls']}")
            print(f"       â€¢ Kart: {result['stats']['cards']}")
        else:
            print(f"    âŒ Walidacja BÅÄ„D!")
            for error in result['errors']:
                print(f"       {error}")
            all_valid = False
    
    # KROK 5: ZAPIS (tylko jeÅ›li wszystko OK)
    if not all_valid:
        print("\nâŒ ZATRZYMANO - sÄ… bÅ‚Ä™dy walidacji!")
        print(f"ğŸ’¾ Backup zachowany: {backup_dir}")
        return False
    
    print("\nKROK 5/6: Zapisywanie plikÃ³w...")
    for filename, html in generated_files.items():
        with open(filename, 'w', encoding='utf-8') as f:
            f.write(html)
        print(f"  âœ“ {filename}")
    
    # KROK 6: PODSUMOWANIE
    print("\nKROK 6/6: Podsumowanie")
    print(f"\n{'='*60}")
    print("âœ… GENEROWANIE ZAKOÅƒCZONE SUKCESEM!")
    print(f"{'='*60}")
    print(f"\nğŸ“Š Statystyki:")
    print(f"  â€¢ Wygenerowano: {len(generated_files)} plikÃ³w")
    print(f"  â€¢ Backup: {backup_dir}")
    print(f"\nğŸ’¡ SprawdÅº pliki w przeglÄ…darce przed wdroÅ¼eniem!")
    print(f"{'='*60}\n")
    
    return True

# URUCHOM TO:
generate_all_pages()
```

## ğŸ§ª Testowanie przed wdroÅ¼eniem

### ZAWSZE przetestuj lokalnie:

```python
def test_generated_html(filename: str):
    """
    Testuje wygenerowany HTML.
    URUCHOM TO dla KAÅ»DEGO pliku przed wdroÅ¼eniem!
    """
    print(f"\nğŸ§ª TESTOWANIE: {filename}")
    print("="*60)
    
    # 1. SprawdÅº czy plik istnieje
    if not os.path.exists(filename):
        print(f"âŒ Plik nie istnieje: {filename}")
        return False
    
    # 2. Wczytaj HTML
    with open(filename, 'r', encoding='utf-8') as f:
        html = f.read()
    
    # 3. Uruchom walidacjÄ™
    category = filename.replace('.html', '')
    result = validate_html(html, category)
    
    # 4. Wyniki
    if result['valid']:
        print("âœ… Walidacja: PASS")
    else:
        print("âŒ Walidacja: FAIL")
        for error in result['errors']:
            print(f"  {error}")
    
    # 5. Statystyki
    print(f"\nğŸ“Š Statystyki:")
    print(f"  â€¢ Rozmiar: {len(html):,} znakÃ³w")
    print(f"  â€¢ Unikalnych URL: {result['stats']['urls']}")
    print(f"  â€¢ DuplikatÃ³w: {result['stats']['duplicates']}")
    print(f"  â€¢ Rows: {result['stats']['rows']}")
    print(f"  â€¢ Kart: {result['stats']['cards']}")
    
    if result['warnings']:
        print(f"\nâš ï¸  OstrzeÅ¼enia: {len(result['warnings'])}")
        for warning in result['warnings'][:5]:  # PokaÅ¼ pierwsze 5
            print(f"  {warning}")
    
    # 6. OtwÃ³rz w przeglÄ…darce
    print(f"\nğŸŒ OtwÃ³rz w przeglÄ…darce:")
    print(f"   file:///{os.path.abspath(filename)}")
    
    print("="*60)
    
    return result['valid']

# PRZETESTUJ WSZYSTKIE:
for file in ['desktopy.html', 'informatyka.html', 'TSiAI.html', 'WiAI.html', 'index.html']:
    test_generated_html(file)
```

---

**PAMIÄ˜TAJ: KaÅ¼dy bÅ‚Ä…d ktÃ³ry tu opisaÅ‚em byÅ‚ rzeczywistym problemem w produkcji!**
**Trzymaj siÄ™ tych zasad i HTML bÄ™dzie zawsze poprawny dla WSZYSTKICH stron.** âœ¨
